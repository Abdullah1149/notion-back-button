<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Aziz Robot - Ramadan Edition</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Poppins:wght@400;600;700&display=swap');

    body {
      margin: 0; 
      padding: 0;
      font-family: 'Cairo','Poppins', sans-serif;
      background: transparent; /* خلفية شفافة */
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
    }

    /* زر كتم/تشغيل الصوت */
    .sound-toggle {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #FFD700;
      color: #333;
      border: none;
      border-radius: 8px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 14px;
      z-index: 999;
      outline: none;
    }
    .sound-toggle:hover {
      background: #ffdd57;
    }

    /* حاوية الروبوت */
    .robot-container {
      position: relative;
      width: 200px;
      height: 350px;
      cursor: pointer;
      user-select: none;
    }

    /* اسم Aziz */
    .robot-label {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      color: #FFD700;
      font-family: 'Poppins', sans-serif;
      font-size: 24px;
      font-weight: 700;
      letter-spacing: 1px;
    }

    /* فقاعة حوار عند الـHover */
    .hover-bubble {
      position: absolute;
      bottom: 110%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.7);
      color: #fff;
      padding: 6px 10px;
      border-radius: 6px;
      font-size: 14px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    .hover-bubble::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border: 6px solid transparent;
      border-top-color: rgba(0,0,0,0.7);
    }
    .robot-container:hover .hover-bubble {
      opacity: 1;
    }

    /* عداد التنبيهات */
    .notif-counter {
      position: absolute;
      bottom: -30px;
      left: 50%;
      transform: translateX(-50%);
      color: #FFD700;
      font-size: 16px;
      background: rgba(0,0,0,0.5);
      padding: 5px 10px;
      border-radius: 8px;
      opacity: 0.9;
    }

    /* الروبوت (مثل Eve) */
    .azizi-robot {
      position: relative;
      width: 120px;
      height: 240px;
      margin: 0 auto;
    }
    .azizi-body {
      position: absolute;
      top: 100px;
      left: 50%;
      transform: translateX(-50%);
      width: 90px;
      height: 140px;
      background: linear-gradient(135deg, #fafafa, #cfcfcf);
      border-radius: 50% 50% 45% 45%;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .azizi-head {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 80px;
      background: #fefefe;
      border-radius: 50%;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      overflow: hidden;
    }
    .azizi-visor {
      position: absolute;
      top: 15px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 32px;
      background: #111;
      border-radius: 16px;
      box-shadow: inset 0 0 8px rgba(255,255,255,0.1);
    }
    .azizi-eye {
      position: absolute;
      top: 7px;
      width: 8px;
      height: 8px;
      background: #0ff;
      border-radius: 50%;
      box-shadow: 0 0 6px #0ff;
    }
    .azizi-eye.left { left: 12px; }
    .azizi-eye.right { right: 12px; }

    .azizi-arm {
      position: absolute;
      width: 14px;
      height: 60px;
      background: linear-gradient(135deg, #fefefe, #ccc);
      border-radius: 50%;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      top: 60px;
    }
    .azizi-arm.left {
      left: 0;
      transform: translateX(-60%);
    }
    .azizi-arm.right {
      right: 0;
      transform: translateX(60%);
    }

    /* صندوق التنبيهات */
    .notifications-container {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translate(-50%, -120%);
      width: 300px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      pointer-events: none;
      z-index: 10;
    }

    /* تصميم التنبيهات */
    .notification {
      position: relative;
      border-radius: 12px;
      padding: 15px 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      opacity: 0;
      transform: translateY(0);
      color: #fff;
      overflow: hidden;
      font-size: 15px;
      direction: rtl;
    }
    .notification h4 {
      margin: 0 0 5px 0;
      font-size: 16px;
    }
    .notification p {
      margin: 0;
      line-height: 1.5;
    }
    .notification::before {
      content: "!";
      position: absolute;
      left: 15px;
      top: 15px;
      font-size: 20px;
      opacity: 0.2;
    }
    /* أنواع التنبيهات */
    .notification.normal {
      background: linear-gradient(135deg, #2a2a2a, #444);
      border: 1px solid rgba(255,255,255,0.2);
    }
    .notification.normal h4 {
      color: #FFD700; 
    }
    .notification.important {
      background: linear-gradient(135deg, #C0392B, #E74C3C);
      border: 2px solid #FF5733;
    }
    .notification.important h4 {
      color: #fff; 
    }
    .notification.important::before {
      color: #fff;
    }
    .notification.special {
      background: linear-gradient(135deg, #2A9D8F, #3CCF91);
      border: 2px solid #FFD700;
    }
    .notification.special h4 {
      color: #333;
    }
    .notification.special::before {
      color: #333;
    }
  </style>
</head>
<body>

<!-- زر كتم/تشغيل الصوت -->
<button class="sound-toggle" id="soundToggle">كتم الصوت</button>

<div class="robot-container" id="azizi">
  <!-- اسم Aziz -->
  <div class="robot-label">Aziz</div>

  <!-- فقاعة حوار عند الـHover -->
  <div class="hover-bubble">اضغط لرؤية محتوى رمضان</div>

  <!-- عداد التنبيهات -->
  <div class="notif-counter" id="notifCounter">0</div>

  <div class="azizi-robot">
    <!-- الرأس -->
    <div class="azizi-head">
      <div class="azizi-visor">
        <div class="azizi-eye left"></div>
        <div class="azizi-eye right"></div>
      </div>
    </div>
    <!-- الجسم -->
    <div class="azizi-body"></div>
    <!-- الذراعان -->
    <div class="azizi-arm left"></div>
    <div class="azizi-arm right"></div>
  </div>

  <!-- صندوق التنبيهات -->
  <div class="notifications-container" id="notificationsBox"></div>
</div>

<!-- زر إعادة التنبيهات (سيظهر عند انتهاء التنبيهات) -->
<button class="reset-btn" id="resetBtn">إعادة التنبيهات</button>

<!-- مكتبة GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<!-- مكتبة Confetti -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<script>
  /***********************************************
   * الأصوات
   ***********************************************/
  let soundEnabled = true;
  const clickSound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.wav");
  clickSound.volume = 0.5;
  const notifySound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-interface-hint-notification-911.wav");
  notifySound.volume = 0.5;

  // زر كتم الصوت
  const soundToggle = document.getElementById("soundToggle");
  soundToggle.addEventListener("click", () => {
    soundEnabled = !soundEnabled;
    soundToggle.textContent = soundEnabled ? "كتم الصوت" : "تشغيل الصوت";
  });

  // زر إعادة التنبيهات
  const resetBtn = document.getElementById("resetBtn");
  resetBtn.style.opacity = 0; // يبدأ مخفي
  resetBtn.addEventListener("click", resetNotifications);

  /***********************************************
   * محتوى رمضان - اليوم الأول
   * يمكنك إضافة باقي الأيام بنفس الشكل
   ***********************************************/
  const initialNotificationsData = [
    {
      title: "اليوم الأول من رمضان",
      text: `
        <strong>الآية القرآنية:</strong> 
        <br/>
        "يَا أَيُّهَا الَّذِينَ آمَنُواْ كُتِبَ عَلَيْكُمُ الصِّيَامُ 
        كَمَا كُتِبَ عَلَى الَّذِينَ مِن قَبْلِكُمْ لَعَلَّكُمْ تَتَّقُونَ" 
        <em>[البقرة: 183]</em>.
        <br/><br/>
        <strong>الشرح:</strong>
        <br/>
        هذه الآية تُبيِّن فرض الصيام على المؤمنين، وأنه وسيلة لتحقيق التقوى
        مثل الأمم السابقة.
      `,
      type: "special"
    }
  ];
  let notificationsData = [...initialNotificationsData];
  let currentIndex = 0;

  /***********************************************
   * العناصر الأساسية
   ***********************************************/
  const azizi = document.getElementById("azizi");
  const notificationsBox = document.getElementById("notificationsBox");
  const notifCounter = document.getElementById("notifCounter");

  // تحديث عداد التنبيهات
  function updateCounter() {
    const left = notificationsData.length - currentIndex;
    notifCounter.textContent = left.toString();
  }
  updateCounter();

  // دالة إنشاء تنبيه
  function createNotification(title, text, type) {
    const notif = document.createElement("div");
    notif.classList.add("notification", type);
    notif.innerHTML = `<h4>${title}</h4><p>${text}</p>`;
    notificationsBox.appendChild(notif);
    return notif;
  }

  /***********************************************
   * حدث الضغط على الروبوت
   ***********************************************/
  azizi.addEventListener("click", (e) => {
    e.stopPropagation();

    // صوت النقر
    if (soundEnabled) {
      clickSound.currentTime = 0;
      clickSound.play().catch(() => {});
    }

    // عرض التنبيه إن وجد
    if (currentIndex < notificationsData.length) {
      const { title, text, type } = notificationsData[currentIndex];
      currentIndex++;

      // إنشاء التنبيه
      const newNotif = createNotification(title, text, type);

      // صوت التنبيه
      if (soundEnabled) {
        notifySound.currentTime = 0;
        notifySound.play().catch(() => {});
      }

      // أنيميشن الظهور
      gsap.fromTo(newNotif,
        { opacity: 0, y: -20 },
        { duration: 0.5, opacity: 1, y: 0, ease: "power2.out" }
      );
      // يختفي بعد 3 ثوان
      gsap.to(newNotif, {
        delay: 3,
        duration: 0.5,
        opacity: 0,
        y: 20,
        onComplete: () => newNotif.remove()
      });

      // تحديث العداد
      updateCounter();

      // لو انتهت التنبيهات
      if (currentIndex === notificationsData.length) {
        setTimeout(() => {
          // حركة دوران للروبوت
          gsap.to("#azizi", {
            duration: 1,
            rotation: 360,
            ease: "power2.inOut",
            onComplete: () => {
              // Confetti احتفالي
              confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 }
              });
              // رسالة ختامية
              alert("انتهت جميع التنبيهات الخاصة باليوم الأول! رمضان كريم. 🎉");
              // إظهار زر إعادة التنبيهات
              resetBtn.style.opacity = 1;
            }
          });
        }, 1000);
      }
    } else {
      alert("لا توجد تنبيهات جديدة!");
    }

    // حركة تكبير بسيطة للروبوت
    gsap.fromTo("#azizi", { scale: 0.95 }, { scale: 1, duration: 0.3, ease: "power2.out" });
  });

  /***********************************************
   * حركة العيون مع الماوس
   ***********************************************/
  document.addEventListener("mousemove", (e) => {
    const rect = azizi.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;
    const deltaX = (e.clientX - centerX) / 40;
    const deltaY = (e.clientY - centerY) / 40;
    // نحرك العينين
    const leftEye = document.querySelector(".azizi-eye.left");
    const rightEye = document.querySelector(".azizi-eye.right");
    leftEye.style.transform = `translate(${deltaX}px, ${deltaY}px)`;
    rightEye.style.transform = `translate(${deltaX}px, ${deltaY}px)`;
  });

  /***********************************************
   * إعادة التنبيهات
   ***********************************************/
  function resetNotifications() {
    // إعادة المصفوفة كما كانت
    notificationsData = [...initialNotificationsData];
    currentIndex = 0;
    updateCounter();
    // إخفاء الزر
    resetBtn.style.opacity = 0;
    // حركة بسيطة للروبوت
    gsap.fromTo("#azizi", { rotation: 0 }, { rotation: -360, duration: 1, ease: "power2.inOut" });
  }
</script>
</body>
</html>
